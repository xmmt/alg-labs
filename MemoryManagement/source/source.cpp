#include "memory_allocator.hpp"

int main() {
    memory::MemoryAllocator ma;
    memory::FixedSizeAllocator<8, 6> fsa;
    fsa.init();
    fsa.dumpInfo();
    fsa.dumpBuffer();
    auto* p1 = fsa.alloc(1);
    fsa.dumpInfo();
    auto* p2 = fsa.alloc(1);
    fsa.dumpInfo();
    auto* p3 = fsa.alloc(1);
    fsa.dumpInfo();
    fsa.free(p2);
    fsa.dumpInfo();
    auto* p4 = fsa.alloc(1);
    fsa.dumpInfo();
    auto* p5 = fsa.alloc(1);
    fsa.dumpInfo();
    fsa.free(p1);
    fsa.dumpInfo();
    fsa.free(p5);
    fsa.dumpInfo();
    auto* p6 = fsa.alloc(1);
    fsa.dumpInfo();
    auto* p7 = fsa.alloc(1);
    fsa.dumpInfo();
    auto* p8 = fsa.alloc(1);
    fsa.dumpInfo();
    auto* p9 = fsa.alloc(1);
    fsa.dumpInfo();
    auto* p10 = fsa.alloc(1);
    fsa.dumpInfo();
    auto* p11 = fsa.alloc(1);
    fsa.dumpInfo();
    fsa.free(p5);
    fsa.dumpInfo();
    auto* p12 = fsa.alloc(1);
    fsa.dumpInfo();
    auto* p13 = fsa.alloc(1);
    fsa.dumpInfo();
    fsa.free(p12);
    fsa.dumpInfo();
    auto* p14 = fsa.alloc(1);
    fsa.dumpInfo();
    auto* p15 = fsa.alloc(1);
    fsa.dumpInfo();
    fsa.dumpBuffer();
    return 0;
}